<div data-ng-init="getAgents()">
    <section class="row m-b-md">
        <div class="col-sm-6">
            <h3 class="m-b-xs text-black">Agents</h3>
        </div>
        <div class="col-sm-6 text-right text-left-xs m-t-md">
            <form class="m-b-none" action="">
                <div class="input-group">
                    <input type="text" placeholder="Type to Search.." ng-model="search" class="form-control">
                    <span class="input-group-btn">
                              <button type="button" ng-click="changeData(search)" class="btn btn-primary"><i
                                      class="i i-search2"></i> Search
                              </button>
                            </span>
                </div>
            </form>
        </div>
    </section>
    <section class="row m-b-md">
        <div class="col-sm-6">
            <a class="btn btn-s-md btn-primary" ng-click="open()"><i class="i i-plus2"></i>Add Agent</a>
        </div>
    </section>
    <section class="panel panel-default">
        <div class="table-responsive">
            <table datatable="ng" dt-options="dtOptions" class="table table-striped m-b-none">
                <thead>
                <tr>
                    <th width="5%">Sl.No</th>
                    <th width="15%">Name</th>
                    <th width="15%">Mobile No</th>
                    <th width="15%">Email</th>
                    <th width="20%">LoginId</th>
                    <th width="15%">Account Type</th>
                    <th width="25%">Action</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="agent in agents | orderBy:'name'"> <!--| filter:search | orderBy:'name'">-->
                    <td>#{{$index + 1}}</td>
                    <td><u><a ng-href="/agents/{{agent.id}}">{{agent.name}}</a></u></td>
                    <td>{{agent.contactNo}}</td>
                    <td>{{agent.email}}</td>
                    <td>{{agent.loginId}}</td>
                    <td>{{agent.accountType}}</td>
                    <td>
                        <button ng-click="openUpdate(agent.id,agent.name,agent.contactNo, agent.email,agent.loginId, agent.accountType)" class="btn btn-primary btn-sm" style="padding:1px 10px !important;">Edit</button>
                        <button ng-click="deleteArea(agent.id,agent.name)" class="btn btn-danger btn-sm" style="padding:1px 10px !important;">Delete</button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </section>
</div>

<script type="text/ng-template" id="agentModal.html">
    <div>
        <div class="m-b-md">
            <h3 class="m-b-none text-center">{{title}} Agent</h3>
        </div>
        <alert class="col-sm-10" ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert>
        <div class="row">
            <div class="col-sm-10 col-sm-offset-1">
                <section class="panel panel-default">
                    <div class="panel-body">
                        <form role="form">
                            <div class="form-group">
                                <label>Agent Name</label>
                                <input class="form-control" ng-model="name" type="text" placeholder="Agent Name ">
                            </div>
                            <div class="form-group">
                                <label>Mobile Number</label>
                                <input class="form-control" ng-model="contactNo" type="text" placeholder="Mobile Number">
                            </div>
                            <div class="form-group">
                                <label>Email ID</label>
                                <input class="form-control" ng-model="email" type="text" placeholder="Email Id ">
                            </div>
                            <div class="form-group">
                                <label>Login Id</label>
                                <input class="form-control" ng-model="loginId" ng-disabled="{{isUpdate}}" type="text" placeholder="Login Id">
                            </div>
                             <div class ="pull-right">
                            <button class="btn btn-sm btn-danger" ng-click="cancel()" type="submit">Cancel</button>
                            <button class="btn btn-sm btn-primary" ng-click="createOrUpdate()"><i class="fa fa-check"></i>{{title}}</button>
                                 </div>
                        </form>
                    </div>
                </section>
            </div>

        </div>
    </div>
</script>