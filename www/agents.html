<div data-ng-init="getAgents()">
    <div class="row m-b-md">
        <div class="col-sm-6 text-right text-left-xs">
            <form class="m-b-none" action="">
                <div class="input-group">
                    <input type="text" placeholder="Type to Search.." ng-model="search" class="form-control">
                    <span class="input-group-btn">
                        <button type="button" ng-click="changeData(search)" class="btn btn-primary">
                            <i class="i i-search2"></i>
                        </button>
                    </span>
                </div>
            </form>
        </div>
    </div>
    <div class="row m-b-md">
        <div class="col-xs-6">
            <button class="btn btn-sm btn-primary font-bold" ng-click="open()"><i class="fa fa-user-plus"></i> Add Agent</button>
        </div>
    </div>
    <div class="panel panel-default">
        <ul class="list-group alt">
            <li class="list-group-item" ng-repeat="agent in agents | orderBy:'name'">
                <div class="media">
                    <div class="media-body">
                        <div class="font-bold"><a ng-href="#/agents/{{agent.id}}" style="text-decoration: underline">{{agent.name | limitTo: 100 }}{{agent.name.length > 100 ? '...' : ''}}</a>
                            <div class="pull-right font-bold">{{agent.loginId}}</div>
                        </div>
                        <div><small class="text-muted">{{agent.email}}/{{agent.contactNo}}</small>
                            <div class="pull-right">
                                <div>
                                    <a ng-hide="isInvalidPhoneNo(agent.contactNo)" ng-href="tel:{{agent.contactNo}}">
                                        <button class="btn btn-success btn-xs"><i class="fa fa-phone"></i></button>
                                    </a>
                                    <button class="btn btn-success btn-xs" ng-click="openUpdate(agent.id)"><i class="fa fa-pencil"></i></button>
                                    <button class="btn btn-danger btn-xs" ng-click="deleteAgent(agent.id)"><i class="fa fa fa-trash-o"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</div>
<style>
.sweet-alert button.cancel{
background-color: #DD6B55;
}
.sweet-alert button.cancel:hover{
background-color: #DD6B55;
}
.sweet-alert button.confirm{
background-color: ##1AAE88;
}
.sweet-alert button.confirm:hover{
background-color: #1AAE88;
}

</style>
<script type="text/ng-template" id="agentModal.html">
    <div>
        <div class="m-b-md">
            <h3 class="m-b-none text-center">{{title}} Agent</h3>
        </div>
        <alert class="col-sm-10" ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">
            {{alert.msg}}
        </alert>
        <div class="row">
            <div class="col-sm-10 col-sm-offset-1">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <form role="form">
                            <div class="form-group">
                                <label>Agent Name</label>
                                <input class="form-control" ng-model="name" type="text" placeholder="Agent Name ">
                            </div>
                            <div class="form-group">
                                <label>Mobile Number</label>
                                <input class="form-control" ng-model="contactNo" type="text" placeholder="Mobile Number">
                            </div>
                            <div class="form-group">
                                <label>Email ID</label>
                                <input class="form-control" ng-model="email" type="text" placeholder="Email Id ">
                            </div>
                            <div class="form-group">
                                <label>Login Id</label>
                                <input class="form-control" ng-model="loginId" ng-disabled="{{isUpdate}}" type="text" placeholder="Login Id">
                            </div>
                            <div class="form-group">
                                <label>Password</label>
                                <input class="form-control" ng-model="password" type="password" placeholder="Password">
                            </div>
                            <div class="pull-right">
                                <button class="btn btn-sm btn-danger" ng-click="cancel()" type="submit">Cancel</button>
                                <button class="btn btn-sm btn-primary" ng-click="createOrUpdate()" ng-disabled="isLoading"><span ng-hide="isLoading"><i class="fa fa-check"></i>{{title}}</span> <span ng-show="isLoading"><i class="fa fa-circle-o-notch fa-spin"></i>
                                 <span class="sr-only">Loading...</span></span>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

        </div>
    </div>
</script>